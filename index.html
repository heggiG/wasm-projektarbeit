<!--<!DOCTYPE html>-->
<html>
    <head>
        <meta charset="utf-8" />
        <title>WASM Picture Filters</title>
    </head>
    <body>
        <link rel="stylesheet" type="text/css" href="style.css" />
        <h1>Picture Filters in WASM with GO</h1>
        <input type="file" id="file-input" accept="image/png" />
        <div>
            <form id="filter-picker">
                <input type="radio" id="radio-sobel" value="sobel" name="filter" checked />
                <label for="radio-sobel">Sobel Filter</label>
                <input type="radio" id="radio-gaussean" value="gaussean" name="filter" />
                <label for="radio-gaussean">Gaussean Blur</label>
                <div>
                    <input type="radio" id="radio-color-shift" value="shift" name="filter" />
                    <label for="radio-color-shift">Color Shift</label>
                    <input type="color" id="color-shift-color" />
                    <label for="color-shift-color">Pick a color</label>
                    <input type="range" min="0" max="1" step="0.00001" id="shift-amount" />
                    <label for="shift-amount">Shift amount</label>
                </div>
            </form>
            <button id="apply-button">Apply</button>
        </div>

        <div id="outer-container">
            <img id="sourceImage" class="images" />
            <img id="targetImage" class="images" />
        </div>
        <script src="wasm_exec.js"></script>
        <script src="script.js"></script>
        <script>
            const go = new Go();
            WebAssembly.instantiateStreaming(fetch("app.wasm"), go.importObject)
                .then((result) => {
                    go.run(result.instance);
                })
                .catch((err) => {
                    console.error(err);
                });
        </script>
    </body>
</html>
